<!DOCTYPE html>
<html>
<head>
    <title>页面布局</title>
    <link rel="stylesheet" href="<?=$controller->siteScriptsUrl?>/js/arcgis_js_api/library/3.9/3.9/js/dojo/dijit/themes/tundra/tundra.css" />
    <link rel="stylesheet" href="<?=$controller->siteScriptsUrl?>/js/arcgis_js_api/library/3.9/3.9/js/esri/css/esri.css" />
    <style>
        html, body, #main{
            width: 100%;
            height: 100%;
            margin: 0;
        }
    </style>
    <script type="text/javascript">
        dojoConfig = {
            isDebug: true,
            async: true
        };
    </script>
    <script src="<?=$controller->siteScriptsUrl?>/js/arcgis_js_api/library/3.9/3.9/"></script>
    <script src="<?=$controller->siteScriptsUrl?>/js/config/config.js"></script>

    <script type="text/javascript">
        require([
                    "dojo/parser",
                    "esri/map",
                    "esri/layers/ArcGISTiledMapServiceLayer",
                    "esri/layers/ArcGISDynamicMapServiceLayer",
                    "dijit/layout/BorderContainer",
                    "dijit/layout/ContentPane",
                    "dijit/layout/AccordionContainer",
                    "dojo/string",
                    "dojo/domReady!"],
                function (parser, Map, ArcGISTiledMapServiceLayer, ArcGISDynamicMapServiceLayer, string) {
                    parser.parse();

                    var map = new Map(
                            "mapDiv",
                            {
                                logo : false,
                                center: [116.442, 40.257],
                                zoom : 1
                            });
                    var agoLayer = new ArcGISTiledMapServiceLayer(agoServiceURL, { displayLevels: [0, 1, 2, 3, 4] });
                    map.addLayer(agoLayer);

                    var dynamicMapServiceLayer = new ArcGISDynamicMapServiceLayer(dynamicUrl);
                    map.addLayer(dynamicMapServiceLayer);

                    map.on('mouse-move', showCoordinates);
                    map.on('mouse-drag', showCoordinates);

                    function showCoordinates(event) {
                        var level = map.getLevel();
                        var pres = Math.min(6, level);
                        var x = event.mapPoint.x.toFixed(pres);
                        var y = event.mapPoint.y.toFixed(pres);
                        document.getElementById('mapPosition').innerHTML = x + " " + y;  //string.substitute('${0}, ${1}', [x, y]);
                    }


                });


    </script>
</head>
<body class="tundra">
<div data-dojo-type="dijit/layout/BorderContainer" data-dojo-props="design:'headline',gutters:false"  id="main">
    <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'top'"
         style="background-color: #b39b86; height: 6%;">
        放置单位或公司标志、本应用系统名称等
    </div>

    <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'left', splitter:'true'"
         style="background-color: #acb386; width: 200px;">
        <div id="accordionContainer" data-dojo-type="dijit/layout/AccordionContainer"
             style="padding: 0px; overflow: hidden; z-index: 29;">
            <div data-dojo-type="dijit/layout/ContentPane" title="查询" style="overflow: hidden;">
                <div id="findServicesDiv">
                </div>
            </div>
            <div id="identifyResultsPane" data-dojo-type="dijit/layout/ContentPane" style="overflow: hidden;" title="查询结果">
                <div id="resultsDiv">
                </div>
                <br>
            </div>
            <div id="parcelResultsPane" data-dojo-type="dijit/layout/ContentPane" title="缓冲区分析">
            </div>
            <div data-dojo-type="dijit/layout/ContentPane" style="width: 100%" title="图层控制">
                <br>
                <div id="layerConfigDiv">
                </div>
            </div>
        </div>
    </div>

    <div id="mapDiv" data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'center'"
         style="background-color: #f5ffbf; padding: 10px;">
        <div id="mapPosition" style="background-color:whitesmoke; font-weight:bolder; font-size:smaller; position:absolute; padding:3px;left:30px; bottom:6px; z-index:99;"></div>

    </div>

    <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'right', splitter:'true'"
         style="background-color: #acb386; width: 200px;">
        显示结果等信息
    </div>

    <div data-dojo-type="dijit/layout/ContentPane" data-dojo-props="region:'bottom', splitter:'true'"
         style="background-color: #b39b86; height: 50px;">
        版权信息等
    </div>
</div>
</body>
</html>